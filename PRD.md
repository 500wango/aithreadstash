### **AI ThreadStash V1.1 "Pro" \- 项目需求文档 (PRD)**

文档版本： 1.0  
创建日期： 2025年8月25日  
项目名称： AI ThreadStash  
产品负责人： (您的名字)

#### **1\. 项目愿景与目标 (Vision & Goals)**

* **愿景:** 打造市场领先的AI对话管理工具，帮助用户捕获、组织和利用每一次与AI的有价值的互动，将其无缝融入个人知识体系和工作流。  
* **V1.1 目标:** 在成功的MVP基础上，发布第一个商业化版本。通过引入用户账户体系、以Notion集成为核心的付费功能和完善的官网，验证产品的商业模式，并为未来的平台化发展奠定坚实基础。

#### **2\. 目标用户画像 (Target Personas)**

* **开发者/技术专家:** 需要快速存档代码片段、API用法和技术解决方案，偏好Markdown和结构化数据(JSON)。  
* **知识工作者/学生/研究员:** 希望将AI对话作为研究资料和灵感来源，并无缝集成到自己的知识管理工具（PKM），如Notion, Obsidian。  
* **内容创作者/营销人员:** 需要整理和复用AI生成的文案、草稿和创意。  
* **普通办公人群:** 希望以简单、通用的格式（如PDF、复制/粘贴）来分享和报告AI辅助完成的工作。

#### **3\. 功能需求详述 (Detailed Functional Requirements)**

##### **3.1. 后端服务 (Backend Service)**

* **用户认证:**  
  * (FR-B1) 作为一个新用户，我希望能通过**邮箱/密码**、**Google账号**或**GitHub账号**进行注册。  
  * (FR-B2) 作为一个已注册用户，我希望能通过上述三种方式安全登录，系统需返回JWT用于身份验证。  
  * (FR-B3) 作为一个已登录用户，我希望能安全地登出。  
  * (FR-B4) 系统需要一个API端点，用于验证JWT并返回当前用户的账户信息和订阅状态。  
* **支付与订阅 (Stripe):**  
  * (FR-B5) 系统需要提供API端点，为用户创建跳转至Stripe Checkout的支付会话。  
  * (FR-B6) 系统需要一个Webhook端点，用于接收Stripe的支付成功事件，并自动在数据库中更新用户的订阅状态为“Pro”。  
  * (FR-B7) 系统需要提供API端点，为用户创建跳转至Stripe客户门户的链接，以便用户管理自己的订阅。  
* **云端集成 (Notion):**  
  * (FR-B8) 系统需要处理Notion的OAuth 2.0授权流程，并安全地加密存储用户的access\_token。  
  * (FR-B9) 系统需要提供一个API端点，接收来自插件的对话数据，并使用用户的access\_token在指定的Notion数据库中创建新页面。

##### **3.2. 官方网站 (aithreadstash.app)**

* **公开页面:**  
  * (FR-W1) 作为一个访客，我希望在首页能清晰地了解产品的核心价值和功能。  
  * (FR-W2) 作为一个访客，我希望能看到一个清晰的表格，对比Free版和Pro版的功能差异。  
  * (FR-W3) 作为一个访客，我希望能在一个定价页面看到月度和年度订阅选项，并能点击升级。  
* **用户流程:**  
  * (FR-W4) 作为一个用户，我希望能通过登录页面登录我的账户，登录选项需包含Google和GitHub。  
  * (FR-W5) 作为一个已登录用户，我希望进入一个用户中心(Dashboard)，能看到我的订阅状态，并能找到管理订阅的入口。

##### **3.3. 浏览器插件 (Extension)**

* **用户认证:**  
  * (FR-E1) 作为一个用户，我希望能在插件的弹出窗口中进行登录、注册和登出操作，并能选择Google或GitHub登录。  
  * (FR-E2) 插件登录后，需要能安全地保存我的登录状态。  
* **Pro 功能:**  
  * (FR-E3) 作为一个Pro用户，我希望在插件的设置页面能连接我的Notion账户。  
  * (FR-E4) 连接Notion后，我希望能从插件中选择一个目标数据库。  
  * (FR-E5) 作为一个Pro用户，我希望在导出时看到“导出到Notion”的选项。  
  * (FR-E6) 作为一个Pro用户，我希望在ChatGPT、Gemini、Claude和Perplexity的页面上看到一个快捷操作按钮，以便更快速地导出。  
* **免费用户引导:**  
  * (FR-E7) 作为一个免费用户，我希望能在插件中看到Pro功能的介绍（例如带“锁”的图标），并在点击后被引导至官网的定价页。

#### **4\. 非功能性需求 (Non-Functional Requirements)**

* **(NFR-1) 语言 (Language):** 所有面向用户的UI（插件、网站）默认语言必须为**英语 (English)**。  
* **(NFR-2) 开发环境 (Dev Environment):** 本地开发环境必须直接在操作系统上安装PostgreSQL，**禁止使用Docker**。  
* **(NFR-3) 安全性 (Security):** 用户密码必须使用bcrypt或同等级别的算法进行哈希加密存储。所有API通信必须在HTTPS下进行。敏感的Token（JWT, Notion Access Token）必须被安全处理。  
* **(NFR-4) 隐私 (Privacy):** 严格遵守MVP阶段制定的隐私政策，仅在Pro版用户授权后收集必要的账户和服务集成信息。

#### **5\. V1.1版本范围之外 (Out of Scope for V1.1)**

* 支持除Notion以外的其他云端同步服务（如Google Drive）。  
* 支持更多LLM平台的扩展。  
* 批量导出、历史记录搜索、标签管理等高级管理功能。  
* 原生PDF高级自定义功能。